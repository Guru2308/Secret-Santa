<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xmlns:o="urn:schemas-microsoft-com:office:office" lang="en">
 <head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta name="x-apple-disable-message-reformatting">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta content="telephone=no" name="format-detection">
  <title>Secret Santa</title>
  <link rel="icon" type="image/x-icon" href="https://img.freepik.com/premium-vector/trendy-cool-friendly-modern-hippie-smart-santa-claus-emoji-emoticon-illustration-vector-art_985204-1395.jpg">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
  <link href="https://fonts.googleapis.com/css2?family=Changa:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet"><!--<![endif]-->
  <style type="text/css">
.rollover:hover .rollover-first {
  max-height:0px!important;
  display:none!important;
}
.rollover:hover .rollover-second {
  max-height:none!important;
  display:block!important;
}
.rollover span {
  font-size:0px;
}
u + .body img ~ div div {
  display:none;
}
#outlook a {
  padding:0;
}
span.MsoHyperlink,
span.MsoHyperlinkFollowed {
  color:inherit;
  mso-style-priority:99;
}
a.es-button {
  mso-style-priority:100!important;
  text-decoration:none!important;
}
a[x-apple-data-detectors],
#MessageViewBody a {
  color:inherit!important;
  text-decoration:none!important;
  font-size:inherit!important;
  font-family:inherit!important;
  font-weight:inherit!important;
  line-height:inherit!important;
}
.es-desk-hidden {
  display:none;
  float:left;
  overflow:hidden;
  width:0;
  max-height:0;
  line-height:0;
  mso-hide:all;
}
@media only screen and (max-width:600px) {.es-p-default { } *[class="gmail-fix"] { display:none!important } p, a { line-height:150%!important } h1, h1 a { line-height:120%!important } h2, h2 a { line-height:120%!important } h3, h3 a { line-height:120%!important } h4, h4 a { line-height:120%!important } h5, h5 a { line-height:120%!important } h6, h6 a { line-height:120%!important } .es-header-body p { } .es-content-body p { } .es-footer-body p { } .es-infoblock p { } h1 { font-size:40px!important; text-align:left } h2 { font-size:28px!important; text-align:left } h3 { font-size:18px!important; text-align:left } h4 { font-size:24px!important; text-align:left } h5 { font-size:20px!important; text-align:left } h6 { font-size:16px!important; text-align:left } .es-header-body h1 a, .es-content-body h1 a, .es-footer-body h1 a { font-size:40px!important } .es-header-body h2 a, .es-content-body h2 a, .es-footer-body h2 a { font-size:28px!important } .es-header-body h3 a, .es-content-body h3 a, .es-footer-body h3 a { font-size:18px!important } .es-header-body h4 a, .es-content-body h4 a, .es-footer-body h4 a { font-size:24px!important } .es-header-body h5 a, .es-content-body h5 a, .es-footer-body h5 a { font-size:20px!important } .es-header-body h6 a, .es-content-body h6 a, .es-footer-body h6 a { font-size:16px!important } .es-menu td a { font-size:14px!important } .es-header-body p, .es-header-body a { font-size:14px!important } .es-content-body p, .es-content-body a { font-size:14px!important } .es-footer-body p, .es-footer-body a { font-size:12px!important } .es-infoblock p, .es-infoblock a { font-size:12px!important } .es-m-txt-c, .es-m-txt-c h1, .es-m-txt-c h2, .es-m-txt-c h3, .es-m-txt-c h4, .es-m-txt-c h5, .es-m-txt-c h6 { text-align:center!important } .es-m-txt-r, .es-m-txt-r h1, .es-m-txt-r h2, .es-m-txt-r h3, .es-m-txt-r h4, .es-m-txt-r h5, .es-m-txt-r h6 { text-align:right!important } .es-m-txt-j, .es-m-txt-j h1, .es-m-txt-j h2, .es-m-txt-j h3, .es-m-txt-j h4, .es-m-txt-j h5, .es-m-txt-j h6 { text-align:justify!important } .es-m-txt-l, .es-m-txt-l h1, .es-m-txt-l h2, .es-m-txt-l h3, .es-m-txt-l h4, .es-m-txt-l h5, .es-m-txt-l h6 { text-align:left!important } .es-m-txt-r img, .es-m-txt-c img, .es-m-txt-l img { display:inline!important } .es-m-txt-r .rollover:hover .rollover-second, .es-m-txt-c .rollover:hover .rollover-second, .es-m-txt-l .rollover:hover .rollover-second { display:inline!important } .es-m-txt-r .rollover span, .es-m-txt-c .rollover span, .es-m-txt-l .rollover span { line-height:0!important; font-size:0!important; display:block } .es-spacer { display:inline-table } a.es-button, button.es-button { font-size:14px!important; padding:10px 20px 10px 20px!important; line-height:120%!important } a.es-button, button.es-button, .es-button-border { display:inline-block!important } .es-m-fw, .es-m-fw.es-fw, .es-m-fw .es-button { display:block!important } .es-m-il, .es-m-il .es-button, .es-social, .es-social td, .es-menu { display:inline-block!important } .es-adaptive table, .es-left, .es-right { width:100%!important } .es-content table, .es-header table, .es-footer table, .es-content, .es-footer, .es-header { width:100%!important; max-width:600px!important } .adapt-img { width:100%!important; height:auto!important } .es-mobile-hidden, .es-hidden { display:none!important } .es-desk-hidden { width:auto!important; overflow:visible!important; float:none!important; max-height:inherit!important; line-height:inherit!important } tr.es-desk-hidden { display:table-row!important } table.es-desk-hidden { display:table!important } td.es-desk-menu-hidden { display:table-cell!important } .es-menu td { width:1%!important } table.es-table-not-adapt, .esd-block-html table { width:auto!important } .h-auto { height:auto!important } }
@media screen and (max-width:384px) {.mail-message-content { width:414px!important } }
</style>
 </head>
 <body class="body" style="width:100vw;height:100vh;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;padding:0;Margin:0">
  <p><a href="/logout" class="logout-link">Logout</a></p>
<style>
  .logout-link {
    display: inline-block;            /* Keep it on the same line */
    position: absolute;               /* Position relative to the parent container */
    top: 10px;                        /* Adjust vertical position */
    right: 10px;                      /* Adjust horizontal position */
    background: linear-gradient(145deg, #ff4d4d, #ff3333); /* Gradient background for a glossy effect */
    color: white;                     /* White text color */
    padding: 10px 20px;               /* Padding for the pill shape */
    border-radius: 50px;              /* Makes it a pill-shaped button */
    text-decoration: none;            /* Removes the underline */
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1), inset 2px 2px 5px rgba(255, 255, 255, 0.4); /* Glossy shadow */
    font-weight: bold;                /* Bold text */
    font-size: 16px;                  /* Text size */
    font-family: 'Poppins', sans-serif;  /* Christmas-themed font */
    transition: all 0.3s ease;        /* Smooth transition for hover effect */
  }
  
  .logout-link:hover {
    background: linear-gradient(145deg, #be3d3d, #ff4d4d);  /* Reverse the gradient on hover */
    box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2), inset 2px 2px 5px rgba(255, 255, 255, 0.5); /* Stronger shadow on hover */
  }
  
  .logout-link:active {
    background: linear-gradient(145deg, #ff2222, #ff3333);  /* Darker gradient on click */
    box-shadow: inset 2px 2px 5px rgba(255, 255, 255, 0.6); /* Subtle inner shadow for pressed effect */
  }
  
</style>
  <div dir="ltr" class="es-wrapper-color" lang="en" style="background-color:#374769;height:100%;width:100%"><!--[if gte mso 9]>
			<v:background xmlns:v="urn:schemas-microsoft-com:vml" fill="t">
				<v:fill type="tile" src="https://tlr.stripocdn.email/content/guids/CABINET_d9e64e61bd5ab14658ef0c95d79249160dd08cb38b25b963906cfe6c64bad7ae/images/bgtemplate.png" color="#374769" origin="0.5, 0" position="0.5, 0"></v:fill>
			</v:background>
		<![endif]-->
   <table width="100%" cellspacing="0" cellpadding="0" background="https://erwoxlr.stripocdn.email/content/guids/CABINET_d9e64e61bd5ab14658ef0c95d79249160dd08cb38b25b963906cfe6c64bad7ae/images/bgtemplate.png" class="es-wrapper" role="none" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;padding:0;Margin:0;width:100%;height:100%;background-image:url(https://erwoxlr.stripocdn.email/content/guids/CABINET_d9e64e61bd5ab14658ef0c95d79249160dd08cb38b25b963906cfe6c64bad7ae/images/bgtemplate.png);background-repeat:no-repeat;background-position:center top;background-color:#374769">
     <tr>
      <td valign="top" class="es-m-margin" style="padding:0;Margin:0">
       <table cellspacing="0" cellpadding="0" align="center" class="es-content" role="none" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;width:100%;table-layout:fixed !important">
         <tr>
          <td align="center" style="padding:0;Margin:0">
           <table cellspacing="0" cellpadding="0" align="center" class="es-content-body" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;background-color:transparent;width:600px" role="none">
             <tr>
              <td align="left" data-custom-paddings="true" style="padding:0;Margin:0">
               <table cellpadding="0" cellspacing="0" width="100%" role="none" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px">
                 <tr>
                  <td align="center" valign="top" style="padding:0;Margin:0;width:600px">
                   <table cellpadding="0" cellspacing="0" width="100%" role="presentation" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px">
                     <tr>
                      <td align="center" height="112" style="padding:0;Margin:0"></td>
                     </tr>
                     <tr>
                      <td align="center" style="padding:0;Margin:0;font-size:0px;height:100%"><img src="https://erwoxlr.stripocdn.email/content/guids/CABINET_d9e64e61bd5ab14658ef0c95d79249160dd08cb38b25b963906cfe6c64bad7ae/images/2342343242x.png" alt="" width="600" class="adapt-img" style="display:block;font-size:15px;border:0;outline:none;text-decoration:none"></td>
                     </tr>
                   </table></td>
                 </tr>
               </table></td>
             </tr>
             
             <tr>
              <td align="left" bgcolor="#fbf3ea" style="margin:0;padding-top:20px;padding-right:20px;padding-bottom:80px;padding-left:20px;background-color:#fbf3ea" data-custom-paddings="true">
                <table cellpadding="0" cellspacing="0" width="100%" role="none" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;position:relative;">
                  
                  <!-- Floating Mail Icon next to "Merry Christmas" Text -->
                  <tr>
                    <td align="right" style="position:relative; width:100%; padding-top:10px; padding-right:20px;">
                      <button id="openModalButton" 
                              style="background-color:rgba(220,38,38,0.4); color:white; padding:12px 24px; border:none; border-radius:9999px; box-shadow:0 4px 6px rgba(0,0,0,0.1); backdrop-filter:blur(10px); transition:all 0.3s ease; cursor:pointer; border:1px solid rgba(220,38,38,1);">
                        <i class="fas fa-envelope text-lg"></i>
                        <!-- Tooltip Text -->
                        <span style="visibility:hidden; opacity:0; transition:opacity 0.3s; position:absolute; top:-30px; left:50%; transform:translateX(-50%); background:#000; color:#fff; padding:5px 10px; border-radius:4px; font-size:12px; white-space:nowrap;">
                          Send a secret message
                        </span>
                      </button>
                    </td>
                  </tr>
            
                  <!-- Table Content -->
                  <tr>
                    <td align="center" valign="top" style="padding:0;margin:0;width:560px">
                      <table cellpadding="0" cellspacing="0" width="100%" role="presentation" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px">
                        <tr>
                          <td align="center" style="padding:0;margin:0">
                            <h1 class="es-m-txt-c" style="margin:0;font-family:Changa, sans-serif;mso-line-height-rule:exactly;letter-spacing:0;font-size:55px;font-style:normal;font-weight:bold;line-height:55px;color:#E33650">Merry Christmas&nbsp;</h1>
                          </td>
                        </tr>
                        <tr>
                          <td align="center" style="padding:0;margin:0">
                            <h2 id="username" class="es-m-txt-c" style="margin:3%;font-family:Changa, sans-serif;mso-line-height-rule:exactly;letter-spacing:0;font-size:35px;font-style:normal;font-weight:bold;line-height:38.5px;color:#E33650">{{.UserName}}!! </h2>
                          </td>
                        </tr>
                        <tr>
                          <td align="center" style="padding:0;margin:0;padding-top:10px;padding-bottom:10px;font-size:0px">
                            <img src="https://erwoxlr.stripocdn.email/content/guids/CABINET_d9e64e61bd5ab14658ef0c95d79249160dd08cb38b25b963906cfe6c64bad7ae/images/star.png" alt="" width="54" style="display:block;font-size:15px;border:0;outline:none;text-decoration:none">
                          </td>
                        </tr>
                        <tr>
                          <td align="center" style="padding:0;margin:0">
                            <h3 id="desc2" class="es-m-txt-c" style="margin:0;font-family:Changa, sans-serif;mso-line-height-rule:exactly;letter-spacing:0;font-size:22px;font-style:normal;font-weight:bold;line-height:26.4px;color:#E33650">WANNA BE A SECRET SANTA ?</h3>
                          </td>
                        </tr>
                        <tr>
                          <td align="center" style="padding:0;margin:0;padding-top:20px"> 
                            <b id="desc3">Here’s how it works:</b>
                          </td>
                        </tr>
                        <tr>
                          <td align="justify" style="padding:0;margin:0;padding-top:20px">
                            <p id="description" style="margin:0;mso-line-height-rule:exactly;font-family:Montserrat, sans-serif;line-height:22.5px;letter-spacing:0;color:#374769;font-size:15px">
                              🎩 Names are shuffled, and you draw someone to gift—shhh, it’s a secret! Then you pick out something perfect (or hilariously unexpected) for your chosen person. When the gifts are exchanged, the fun begins as everyone tries to guess their Secret Santa! 
                              <br>
                            </p>
                          </td>
                        </tr>
                        <tr>
                          <td align="center" style="padding:0;margin:0;padding-top:30px;cursor: pointer;">
                            <btn class="es-button-border msohide" id="whos-my-ss" style="border-style:solid;border-color:#008C7C;background:#008c7c;border-width:0px;display:inline-block;border-radius:30px;width:auto;mso-hide:all">
                              <a href="javascript:void(0);" id="pick-name-btn" class="es-button" style="mso-style-priority:100 !important;text-decoration:none !important;mso-line-height-rule:exactly;color:#FFFFFF;font-size:14px;padding:14px 35px 14px 35px;display:inline-block;background:#E7A31F;border-radius:30px;font-family:arial, 'helvetica neue', helvetica, sans-serif;font-weight:bold;font-style:normal;line-height:16.8px;width:auto;text-align:center;letter-spacing:0;mso-padding-alt:0;mso-border-alt:10px solid #E7A31F">
                                Let's pick a name..
                              </a>
                            </btn>
                          </td>
                        </tr>
                      </table>
                    </td>
                  </tr>
                </table>
              </td>
            </tr>
            
            <script>
              // Tooltip functionality
              document.getElementById("openModalButton").addEventListener("mouseover", function () {
                const tooltip = this.querySelector("span");
                tooltip.style.visibility = "visible";
                tooltip.style.opacity = "1";
              });
            
              document.getElementById("openModalButton").addEventListener("mouseout", function () {
                const tooltip = this.querySelector("span");
                tooltip.style.visibility = "hidden";
                tooltip.style.opacity = "0";
              });
            </script>           
            
            <script>
              function formatEmail(email) {
                if (!email) return 'Unknown';
                const namePart = email.split('@')[0];
                return namePart.replace(/\./g, ' ').toUpperCase();
              }
            
              let child_name = formatEmail("{{.ChildEmail}}");
              console.log(child_name); // Check what child_name is
            
              document.getElementById('pick-name-btn').addEventListener('click', function() {
                const desc = document.getElementById('description')
                desc.parentElement.setAttribute("align","center")
                desc.innerHTML = `
                  <h3 class="es-m-txt-c" style="Margin:0;font-family:Changa, sans-serif;mso-line-height-rule:exactly;letter-spacing:0;font-size:22px;font-style:normal;font-weight:bold;line-height:26.4px;color:#E33650">
                    You are gonna be the Secret Santa for
                  </h3><br>
                  <h2 style="text-align:center;font-size:26px;"><b>${child_name}</b></h2>
                  <br><br><br>
                `;
                document.getElementById('desc2').innerHTML = '';
                document.getElementById('desc3').innerHTML = '';
                document.getElementById('whos-my-ss').innerHTML = '';

                // Hide the button after it's clicked
                document.getElementById('whos-my-ss').style.display = 'none';
              });
            </script>
                       
            
           </table></td>
         </tr>
       </table>
       <table cellpadding="0" cellspacing="0" align="center" class="es-content" role="none" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;width:100%;table-layout:fixed !important">
         <tr>
          <td align="center" style="padding:0;Margin:0">
           <table cellspacing="0" cellpadding="0" bgcolor="#c9dcff" align="center" class="es-content-body" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;background-color:transparent;width:600px" role="none">
             <tr>
              <td align="left" style="Margin:0;padding-right:20px;padding-left:20px;padding-top:30px;padding-bottom:30px;background-position:left top" data-custom-paddings="true">
               <table width="100%" cellspacing="0" cellpadding="0" role="none" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px">
                 <tr>
                  <td valign="top" align="center" style="padding:0;Margin:0;width:560px">
                   <table width="100%" cellspacing="0" cellpadding="0" role="presentation" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px">
                     <tr>
                     </tr>
                   </table></td>
                 </tr>
               </table></td>
             </tr>
           </table></td>
         </tr>
       </table></td>
     </tr>
   </table>
  </div>
 
  <!-- Include Font Awesome CDN for the mail icon -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  
  
</style>

  <!-- Modal structure -->
  <div id="modal" class="fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center z-50 hidden">
    <div class="bg-white rounded-lg shadow-lg p-6 max-w-lg w-full relative">
      <form method="POST" action="/send-message" id="messageForm">
        <input type="hidden" id="to" name="to" value="{{.ChildEmail}}">
      
        <label for="message" class="block text-xl font-semibold mb-2">Send a message to : {{.ChildEmail}}</label>
        <textarea id="message" name="message" rows="4" class="w-full p-3 border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400" required></textarea>
      
        <button type="submit" class="mt-4 w-full py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition duration-300">Send</button>
        <br>
        <br>
        <u><i><a href="/guess">Try guessing your santa !</a></i></u>
      </form>
      
      
      <!-- Close button -->
      <button id="closeModalButton" class="absolute top-2 right-2 text-gray-500 hover:text-gray-700 text-xl">
        &times;
      </button>
    </div>
  </div>

  <style>
    .santa-link {
      color: maroon; /* Maroon text color */
      background-color: black; /* Black background */
      font-family: 'Font Awesome 5 Free'; /* Font Awesome font */
      font-weight: 900; /* Font Awesome uses bold weight for icons */
      text-decoration: none; /* Remove underline */
    }
    .santa-link:hover {
      color: white; /* Change text color on hover */
      background-color: #444; /* Change background on hover */
    }
    
  </style>
  
  <script>
    // Show modal when open button is clicked
    document.getElementById('openModalButton').addEventListener('click', function() {
      document.getElementById('modal').classList.remove('hidden');
    });
  
    // Close modal when close button is clicked
    document.getElementById('closeModalButton').addEventListener('click', function() {
      document.getElementById('modal').classList.add('hidden');
    });
  
    // Handle form submission
    document.getElementById('messageForm').addEventListener('submit', function(event) {
      // Get the trimmed message value
      const message = document.getElementById('message').value.trim();
  
      // Check if the message is empty or contains only spaces
      if (message === '') {
        // Show an alert if the message is invalid
        alert('Please enter a valid message.');
        event.preventDefault(); // Prevent form submission
      } else {
        // If the message is valid, prevent the default form submission to show SweetAlert
        event.preventDefault();
  
        // Show SweetAlert
        Swal.fire({
          title: 'Success!',
          text: 'Secret message sent successfully!',
          icon: 'success',
          confirmButtonText: 'OK'
        }).then((result) => {
          // After SweetAlert is closed, submit the form
          if (result.isConfirmed) {
            // Submit the form manually after the alert is closed
            document.getElementById('messageForm').submit();
          }
        });
      }
    });
  </script>
  
  

<style>
  /* Custom styles to make SweetAlert responsive */
  .swal-custom-popup {
      font-size: 1rem; /* Adjust font size for better readability */
      padding: 1.5rem; /* Adjust padding */
      max-width: 90%; /* Restrict width on smaller screens */
      word-wrap: break-word; /* Prevent long text overflow */
  }

  @media (max-width: 768px) {
      .swal-custom-popup {
          font-size: 0.9rem; /* Slightly smaller font size for mobile */
          padding: 1rem;
      }
  }

  @media (max-width: 480px) {
      .swal-custom-popup {
          font-size: 0.8rem; /* Further adjustment for small screens */
      }
  }
</style>
 </body>
</html>
